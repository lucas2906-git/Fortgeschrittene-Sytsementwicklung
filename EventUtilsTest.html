<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Event Planner Test</title>
<script src="/JS/EventAdder.js"></script>
<script src="/JS/EventSortandSearch.js"></script>
</head>
<body>

<h1>Test deines Event-Planners</h1>
<p>Öffne die Konsole (F12) für die Testergebnisse.</p>

<!-- Ul mit vorhandenen Events -->
<ul id="events">
    <li>
        <strong class="title">Rock am Ring</strong><br>
        <strong>Datum: </strong><time class="date">07.06.2025</time><br>
        Eines der größten Festivals in Deutschland.
    </li>
    <li>
        <strong class="title">Oktoberfest</strong><br>
        <strong>Datum: </strong><time class="date">21.09.2024</time><br>
        Das berühmte Volksfest in München.
    </li>
</ul>

<!-- Sortieren + Suche (wie im Projekt) -->
<select name="sort" id="sort" onchange="sortEvents()">
    <option value="dateAscending">Datum aufsteigend</option>
    <option value="dateDescending">Datum absteigend</option>
    <option value="titleAscending">Titel A-Z</option>
    <option value="titleDescending">Titel Z-A</option>
</select>

<input type="search" id="searchEvent" placeholder="Suche..." oninput="searchEvent()">

<script>
console.log('=== EVENT PLANNER TEST START ===');

// 1️⃣ Event hinzufügen simulieren
console.log('Test 1: Event hinzufügen');
const title = 'Wacken Open Air';
const date = '15.02.2025';
const description = 'Größtes Heavy-Metal-Festival der Welt.';

document.getElementById('events').innerHTML += `
    <li>
        <strong class="title">${title}</strong><br>
        <strong>Datum: </strong><time class="date">${date}</time><br>
        ${description}
    </li>
`;

let lis = document.querySelectorAll('#events li');
console.log(lis.length === 3 ? 'OK Event hinzugefügt' : 'FEHLER');

// 2️⃣ Sortieren Datum aufsteigend
console.log('Test 2: Sortieren Datum aufsteigend');
document.getElementById('sort').value = 'dateAscending';
sortEvents();
console.log(document.querySelector('#events li:first-child .title').innerText === 'Oktoberfest' ? 'OK' : 'FEHLER');

// 3️⃣ Sortieren Datum absteigend
console.log('Test 3: Sortieren Datum absteigend');
document.getElementById('sort').value = 'dateDescending';
sortEvents();
console.log(document.querySelector('#events li:first-child .title').innerText === 'Rock am Ring' ? 'OK' : 'FEHLER');

// 4️⃣ Sortieren Titel A-Z
console.log('Test 4: Sortieren Titel A-Z');
document.getElementById('sort').value = 'titleAscending';
sortEvents();
console.log(document.querySelector('#events li:first-child .title').innerText === 'Oktoberfest' ? 'OK' : 'FEHLER');

// 5️⃣ Sortieren Titel Z-A
console.log('Test 5: Sortieren Titel Z-A');
document.getElementById('sort').value = 'titleDescending';
sortEvents();
console.log(document.querySelector('#events li:first-child .title').innerText === 'Wacken Open Air' ? 'OK' : 'FEHLER');

// 6️⃣ Suche testen
console.log('Test 6: Suche nach "rock"');
document.getElementById('searchEvent').value = 'rock';
searchEvent();
const visible = Array.from(document.querySelectorAll('#events li'))
    .filter(li => li.style.display !== 'none');
console.log(visible.length === 1 && visible[0].querySelector('.title').innerText === 'Rock am Ring' ? 'OK Suche' : 'FEHLER');

// 7️⃣ Suche ohne Treffer
console.log('Test 7: Suche nach "xyz"');
document.getElementById('searchEvent').value = 'xyz';
searchEvent();
const hidden = Array.from(document.querySelectorAll('#events li'))
    .filter(li => li.style.display !== 'none');
console.log(hidden.length === 0 ? 'OK keine Treffer' : 'FEHLER');

console.log('=== EVENT PLANNER TEST ENDE ===');
</script>

</body>
</html>
